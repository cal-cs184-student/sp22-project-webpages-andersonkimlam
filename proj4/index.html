<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=cJLRyNNdbfauG58nyHg_907PHvigsIdfeR0a_7INJ6zvRtEm9tK68mJkXxLjL83n3qZdE9zi-ByOGjQ5t8RO7A');ul.lst-kix_8u72wsndxr97-3{list-style-type:none}ul.lst-kix_8u72wsndxr97-4{list-style-type:none}ul.lst-kix_8u72wsndxr97-5{list-style-type:none}ul.lst-kix_8u72wsndxr97-6{list-style-type:none}ul.lst-kix_8u72wsndxr97-0{list-style-type:none}ul.lst-kix_8u72wsndxr97-1{list-style-type:none}ul.lst-kix_8u72wsndxr97-2{list-style-type:none}.lst-kix_p4qokhxz7ris-8>li:before{content:"-  "}ul.lst-kix_8u72wsndxr97-7{list-style-type:none}.lst-kix_p4qokhxz7ris-7>li:before{content:"-  "}ul.lst-kix_8u72wsndxr97-8{list-style-type:none}.lst-kix_p4qokhxz7ris-5>li:before{content:"-  "}.lst-kix_759l42e2b7s7-2>li:before{content:"\0025a0  "}.lst-kix_759l42e2b7s7-3>li:before{content:"\0025cf  "}.lst-kix_p4qokhxz7ris-4>li:before{content:"-  "}.lst-kix_p4qokhxz7ris-6>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-4>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-6>li:before{content:"-  "}.lst-kix_759l42e2b7s7-0>li:before{content:"\0025cf  "}.lst-kix_759l42e2b7s7-1>li:before{content:"\0025cb  "}.lst-kix_759l42e2b7s7-4>li:before{content:"\0025cb  "}.lst-kix_759l42e2b7s7-5>li:before{content:"\0025a0  "}.lst-kix_kdv6kitnc99d-3>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-7>li:before{content:"-  "}.lst-kix_p4qokhxz7ris-2>li:before{content:"-  "}.lst-kix_p4qokhxz7ris-3>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-5>li:before{content:"-  "}ul.lst-kix_kdv6kitnc99d-7{list-style-type:none}ul.lst-kix_kdv6kitnc99d-8{list-style-type:none}.lst-kix_759l42e2b7s7-8>li:before{content:"\0025a0  "}.lst-kix_p4qokhxz7ris-1>li:before{content:"-  "}ul.lst-kix_kdv6kitnc99d-1{list-style-type:none}.lst-kix_759l42e2b7s7-6>li:before{content:"\0025cf  "}.lst-kix_759l42e2b7s7-7>li:before{content:"\0025cb  "}ul.lst-kix_kdv6kitnc99d-2{list-style-type:none}.lst-kix_p4qokhxz7ris-0>li:before{content:"-  "}ul.lst-kix_kdv6kitnc99d-0{list-style-type:none}.lst-kix_kdv6kitnc99d-8>li:before{content:"-  "}ul.lst-kix_kdv6kitnc99d-5{list-style-type:none}ul.lst-kix_kdv6kitnc99d-6{list-style-type:none}ul.lst-kix_kdv6kitnc99d-3{list-style-type:none}ul.lst-kix_kdv6kitnc99d-4{list-style-type:none}.lst-kix_v82os2wepgiv-0>li:before{content:"-  "}.lst-kix_v82os2wepgiv-1>li:before{content:"-  "}.lst-kix_v82os2wepgiv-3>li:before{content:"-  "}.lst-kix_v82os2wepgiv-2>li:before{content:"-  "}.lst-kix_v82os2wepgiv-4>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-0>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-2>li:before{content:"-  "}.lst-kix_kdv6kitnc99d-1>li:before{content:"-  "}.lst-kix_v82os2wepgiv-7>li:before{content:"-  "}ul.lst-kix_tkekbvcuhabf-4{list-style-type:none}ul.lst-kix_tkekbvcuhabf-3{list-style-type:none}.lst-kix_v82os2wepgiv-6>li:before{content:"-  "}.lst-kix_v82os2wepgiv-8>li:before{content:"-  "}ul.lst-kix_tkekbvcuhabf-2{list-style-type:none}ul.lst-kix_tkekbvcuhabf-1{list-style-type:none}.lst-kix_v82os2wepgiv-5>li:before{content:"-  "}ul.lst-kix_tkekbvcuhabf-8{list-style-type:none}ul.lst-kix_tkekbvcuhabf-7{list-style-type:none}ul.lst-kix_tkekbvcuhabf-6{list-style-type:none}ul.lst-kix_tkekbvcuhabf-5{list-style-type:none}.lst-kix_8u72wsndxr97-6>li:before{content:"-  "}ul.lst-kix_v82os2wepgiv-1{list-style-type:none}ul.lst-kix_v82os2wepgiv-2{list-style-type:none}.lst-kix_8u72wsndxr97-7>li:before{content:"-  "}ul.lst-kix_v82os2wepgiv-3{list-style-type:none}ul.lst-kix_v82os2wepgiv-4{list-style-type:none}.lst-kix_8u72wsndxr97-8>li:before{content:"-  "}ul.lst-kix_v82os2wepgiv-5{list-style-type:none}ul.lst-kix_v82os2wepgiv-6{list-style-type:none}ul.lst-kix_v82os2wepgiv-7{list-style-type:none}ul.lst-kix_v82os2wepgiv-8{list-style-type:none}.lst-kix_8u72wsndxr97-2>li:before{content:"-  "}.lst-kix_8u72wsndxr97-1>li:before{content:"-  "}.lst-kix_8u72wsndxr97-3>li:before{content:"-  "}ul.lst-kix_v82os2wepgiv-0{list-style-type:none}.lst-kix_8u72wsndxr97-5>li:before{content:"-  "}.lst-kix_8u72wsndxr97-4>li:before{content:"-  "}.lst-kix_8u72wsndxr97-0>li:before{content:"-  "}ul.lst-kix_tkekbvcuhabf-0{list-style-type:none}ul.lst-kix_p4qokhxz7ris-0{list-style-type:none}ul.lst-kix_p4qokhxz7ris-1{list-style-type:none}ul.lst-kix_p4qokhxz7ris-2{list-style-type:none}ul.lst-kix_p4qokhxz7ris-3{list-style-type:none}ul.lst-kix_p4qokhxz7ris-4{list-style-type:none}ul.lst-kix_p4qokhxz7ris-5{list-style-type:none}ul.lst-kix_p4qokhxz7ris-6{list-style-type:none}ul.lst-kix_p4qokhxz7ris-7{list-style-type:none}ul.lst-kix_p4qokhxz7ris-8{list-style-type:none}.lst-kix_tkekbvcuhabf-2>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-4>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-3>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-6>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-5>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-0>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-1>li:before{content:"-  "}.lst-kix_61ehidr0zfp5-8>li:before{content:"-  "}ul.lst-kix_61ehidr0zfp5-1{list-style-type:none}ul.lst-kix_61ehidr0zfp5-2{list-style-type:none}ul.lst-kix_759l42e2b7s7-8{list-style-type:none}ul.lst-kix_61ehidr0zfp5-3{list-style-type:none}ul.lst-kix_61ehidr0zfp5-4{list-style-type:none}.lst-kix_61ehidr0zfp5-7>li:before{content:"-  "}ul.lst-kix_759l42e2b7s7-6{list-style-type:none}ul.lst-kix_61ehidr0zfp5-5{list-style-type:none}ul.lst-kix_759l42e2b7s7-7{list-style-type:none}ul.lst-kix_61ehidr0zfp5-6{list-style-type:none}ul.lst-kix_759l42e2b7s7-4{list-style-type:none}ul.lst-kix_61ehidr0zfp5-7{list-style-type:none}ul.lst-kix_759l42e2b7s7-5{list-style-type:none}.lst-kix_61ehidr0zfp5-6>li:before{content:"-  "}ul.lst-kix_61ehidr0zfp5-8{list-style-type:none}ul.lst-kix_759l42e2b7s7-2{list-style-type:none}ul.lst-kix_759l42e2b7s7-3{list-style-type:none}ul.lst-kix_759l42e2b7s7-0{list-style-type:none}ul.lst-kix_759l42e2b7s7-1{list-style-type:none}.lst-kix_61ehidr0zfp5-3>li:before{content:"-  "}.lst-kix_61ehidr0zfp5-5>li:before{content:"-  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_61ehidr0zfp5-0{list-style-type:none}.lst-kix_61ehidr0zfp5-4>li:before{content:"-  "}.lst-kix_61ehidr0zfp5-1>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-7>li:before{content:"-  "}.lst-kix_61ehidr0zfp5-2>li:before{content:"-  "}.lst-kix_tkekbvcuhabf-8>li:before{content:"-  "}.lst-kix_61ehidr0zfp5-0>li:before{content:"-  "}ol{margin:0;padding:0}table td,table th{padding:0}.c11{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c36{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:465.8pt;border-top-color:#000000;border-bottom-style:solid}.c4{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156pt;border-top-color:#000000;border-bottom-style:solid}.c13{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"EB Garamond";font-style:normal}.c27{-webkit-text-decoration-skip:none;color:#000000;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"EB Garamond";font-style:normal}.c8{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"EB Garamond";font-style:normal}.c19{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"EB Garamond";font-style:normal}.c25{padding-top:0pt;padding-bottom:16pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c22{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c33{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:center}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"EB Garamond";font-style:normal}.c16{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c9{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c38{margin-left:18pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"EB Garamond";font-style:normal}.c31{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c17{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c21{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c23{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:right}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c24{font-size:12pt;font-family:"IBM Plex Mono";color:#333333;font-weight:400}.c0{border-spacing:0;border-collapse:collapse;margin-right:auto}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c30{color:#666666;font-weight:400;font-size:15pt;font-family:"EB Garamond"}.c35{color:#000000;font-weight:400;font-size:26pt;font-family:"EB Garamond"}.c32{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c28{margin-left:auto;border-spacing:0;border-collapse:collapse;margin-right:auto}.c29{text-decoration:none;vertical-align:baseline;font-style:normal}.c26{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c5{padding:0;margin:0}.c37{font-weight:400;font-family:"EB Garamond"}.c15{color:inherit;text-decoration:inherit}.c34{font-weight:400;font-family:"IBM Plex Mono"}.c18{margin-left:36pt;padding-left:0pt}.c10{font-weight:700}.c7{height:11pt}.c2{height:0pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"EB Garamond"}p{margin:0;color:#000000;font-size:11pt;font-family:"EB Garamond"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"EB Garamond";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c26"><div><p class="c7 c23"><span class="c1"></span></p></div><p class="c33 title" id="h.ies0ajo90w46"><span class="c37">CS 184 Project 4 - Cloth</span><span>&nbsp;Si</span><span class="c29 c35">mulation</span></p><p class="c25 subtitle" id="h.oji3pvxmpmy4"><span class="c29 c30">Amy Huang &amp; Anderson Lam</span></p><p class="c21"><span class="c32 c37"><a class="c15" href="https://www.google.com/url?q=https://cal-cs184-student.github.io/sp22-project-webpages-andersonkimlam/proj4/index.html&amp;sa=D&amp;source=editors&amp;ust=1649973012902478&amp;usg=AOvVaw2Pqes3GihWOyg7sPu7a0k4">https://cal-cs184-student.github.io/sp22-project-webpages-andersonkimlam/proj4/index.html</a></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c10 c27">Table of Contents</span></p><p class="c31"><span class="c13"><a class="c15" href="#h.5fn5nxoq34ix">Overview</a></span></p><p class="c17"><span class="c13"><a class="c15" href="#h.xwfw8bpthhrt">Part 1: Masses and springs</a></span></p><p class="c17"><span class="c13"><a class="c15" href="#h.2llxf0fwlpin">Part 2: Simulation via numerical integration</a></span></p><p class="c17"><span class="c13"><a class="c15" href="#h.jclkbkxp8hp">Part 3: Handling collisions with other objects</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.pa8gg3n0csso">Sphere Collision</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.k4virjywdpt2">Plane Collision</a></span></p><p class="c17"><span class="c13"><a class="c15" href="#h.oragva84euve">Part 4: Handling self-collisions</a></span></p><p class="c17"><span class="c13"><a class="c15" href="#h.xhh07n8tl072">Part 5: Shaders</a></span></p><p class="c22"><span class="c32"><a class="c15" href="#h.xmutlt5s87p1">Diffuse Shading</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.o9x2byw08xxz">Blinn-Phong Shading</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.exzlzwrp7e72">Texture Mapping</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.ezctfcommp54">Displacement and Bump mapping</a></span></p><p class="c22"><span class="c13"><a class="c15" href="#h.84pwin5gpugr">Environment-mapped Reflections</a></span></p><p class="c38"><span class="c13"><a class="c15" href="#h.7t0jin3c4m7b">Custom Shader</a></span></p><h1 class="c16" id="h.5fn5nxoq34ix"><span class="c14">Overview</span></h1><p class="c3"><span class="c1">In this project, we simulate how cloth behaves in response to collision with objects and itself, and well as how it might fall with spring/mass models. We conduct further experiments by messing with the given variables. Cloth simulation is a hard problem that is still being improved. Overall this project was fun and was not too difficult. There was a lot of debugging with the math (rereading spec to make sure we did not miss anything), but we were able to get it working. We had a lot of weird and funny results when our code was incorrect like flying off of the screen. It is interesting to see how we can translate physics concepts into code. </span></p><h1 class="c16" id="h.xwfw8bpthhrt"><span class="c14">Part 1: Masses and springs</span></h1><p class="c3"><span>In this portion we implemented the structure of the cloth by iterating through the width and height and assigning point masses to the grid. We keep track of the orientation (horizontal vs vertical) and whether or not the point mass is pinned. Once we stored the point mass grid in </span><span class="c34">point_masses</span><span class="c1">, we iterated through the point masses again and created springs (connection between points), with structural, shearing, and bending types.</span></p><ul class="c5 lst-kix_759l42e2b7s7-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">Structural - connect current point mass with the one point above and to the left</span></li><li class="c3 c18 li-bullet-0"><span class="c1">Shearing - connect the current point mass with the upper right diagonal and the upper left diagonal point</span></li><li class="c3 c18 li-bullet-0"><span class="c1">Bending - &nbsp;connect the current point mass with the two points above and two to the right</span></li></ul><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">For this part we encountered some pointer issues when assigning the springs to each pair of point masses, and we tried a few different approaches to &nbsp;iterating through point_masses. We were able to debug our issues through seeing what other students said &nbsp;on Piazza.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c24">&nbsp;scene/</span><span class="c24">pinned2.json</span></p><p class="c3 c7"><span class="c24 c29"></span></p><a id="t.a0f1bfacb0cdafbeea262b7384c09a2820f7c6e9"></a><a id="t.0"></a><table class="c0"><tbody><tr class="c2"><td class="c36" colspan="1" rowspan="1"><p class="c6"><span>All constraints selected </span></p></td></tr><tr class="c2"><td class="c36" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 507.50px; height: 309.37px;"><img alt="" src="images/image29.png" style="width: 507.50px; height: 384.07px; margin-left: 0.00px; margin-top: -0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 607.00px; height: 378.67px;"><img alt="" src="images/image76.jpg" style="width: 607.00px; height: 378.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.74c7cd8e8ac10ed5411f0d0a8b36cceac06115e0"></a><a id="t.1"></a><table class="c28"><tbody><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Only shearing selected</span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 218.50px; height: 283.76px;"><img alt="" src="images/image59.png" style="width: 426.46px; height: 313.33px; margin-left: -207.96px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 366.67px;"><img alt="" src="images/image15.jpg" style="width: 610.00px; height: 366.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.95fb47537b415c413f3d3eec4088e4e8b17016f1"></a><a id="t.2"></a><table class="c0"><tbody><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c6"><span class="c1">Only structural &amp; bending selected </span></p></td></tr><tr class="c2"><td class="c11" colspan="1" rowspan="1"><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 205.00px; height: 291.70px;"><img alt="" src="images/image94.png" style="width: 394.53px; height: 291.70px; margin-left: -189.53px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c12"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 361.33px;"><img alt="" src="images/image21.jpg" style="width: 610.00px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h1 class="c16" id="h.2llxf0fwlpin"><span class="c14">Part 2: Simulation via numerical integration</span></h1><p class="c3"><span class="c1">For simulation we calculated the forces on each point mass in order to determine the position at the next timestamp in our animation. &nbsp;First we added the external forces uniformly on the grid, and then we iterated through each spring and added the spring correctional forces to each pair of point masses attached to it. We used the following formula (Hooke&rsquo;s Law) to compute the correctional &nbsp;force. </span></p><p class="c21"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 218.50px; height: 41.76px;"><img alt="" src="images/image81.png" style="width: 218.50px; height: 41.76px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span>We spent a while debugging this portion because the force we calculated was incredibly large and it turned out to be some errors with initialization and memory. Once we correctly derived the forces on each point mass, we were then able to update each of their positions using the following formula, unless the selected point was pinned.</span></p><p class="c21"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 438.50px; height: 55.52px;"><img alt="" src="images/image2.png" style="width: 438.50px; height: 55.52px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">Lastly we iterated through each spring again to limit the length to 1.1 times the rest_length, otherwise the cloth would stretch infinitely. We did this by finding the direction unit vector between the two point masses, and multiplied this by 0.5 * 1.1 * rest_length. If one of them was pinned, however, we would only multiply the non-pinned point by 1.1 * rest_length. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c8">Experiments</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.fb531b3d5b9cddf042ea036a9a01aa73ea1d412f"></a><a id="t.3"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Default Render</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 360.00px;"><img alt="" src="images/image74.jpg" style="width: 610.00px; height: 360.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 610.00px; height: 320.00px;"><img alt="" src="images/image36.jpg" style="width: 610.00px; height: 320.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c8"></span></p><p class="c3 c7"><span class="c8"></span></p><p class="c3"><span class="c1">Effects of k_s</span></p><ul class="c5 lst-kix_8u72wsndxr97-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">K_s is the spring constant within Hooke&rsquo;s Law and measures the spring&rsquo;s stiffness. The constant is uniformly applied to all springs in the cloth. This means that the cloth stretches more when k_s is low and a higher k_s would result in a tighter spring and stiffness.</span></li><li class="c3 c18 li-bullet-0"><span class="c1">As seen in the images, when the spring constant is smaller, the cloth is more elastic (droops more). The higher spring constant image makes it less elastic and the springs are not able to move as far away as with a lower spring value.</span></li></ul><p class="c3 c7"><span class="c1"></span></p><a id="t.f149e300faa78e18ef5c1eb7cfed99a179692694"></a><a id="t.4"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low k_s, 100 N/m</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High k_s, 10000 N/m</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 193.33px;"><img alt="" src="images/image43.jpg" style="width: 298.00px; height: 193.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 166.67px;"><img alt="" src="images/image100.jpg" style="width: 298.00px; height: 166.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 194.67px;"><img alt="" src="images/image38.jpg" style="width: 298.00px; height: 194.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 158.67px;"><img alt="" src="images/image40.jpg" style="width: 298.00px; height: 158.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Effects of density</span></p><ul class="c5 lst-kix_p4qokhxz7ris-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">In our formula, density is used to calculate the mass of each point in the cloth. At lower densities, external forces would have less effect overall. Given f = ma, if acceleration is constant and mass is decreased, force is also decreased. A low density cloth looks lighter and has lesser curvature. High density would result in each PointMass to have more mass, thus more curvature. This is because external forces pull the PointMasses down. You can think of this as gravitational impact.</span></li><li class="c3 c18 li-bullet-0"><span class="c1">In the lower density image, the top curve is not intense and gradients are smoother. In comparison, the high density render shows the cloth having thicker larger folds and has more contrast. </span></li></ul><p class="c3 c7"><span class="c1"></span></p><a id="t.430b7196f8ba8f1faf99799204712afc4d94b8e9"></a><a id="t.5"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low density, 1 g/cm^2</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High density, 100 g/cm^2</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 184.00px;"><img alt="" src="images/image83.jpg" style="width: 298.00px; height: 184.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 158.67px;"><img alt="" src="images/image89.jpg" style="width: 298.00px; height: 158.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 192.00px;"><img alt="" src="images/image93.jpg" style="width: 298.00px; height: 192.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 158.67px;"><img alt="" src="images/image46.jpg" style="width: 298.00px; height: 158.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Effects of damping</span></p><ul class="c5 lst-kix_tkekbvcuhabf-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">Damping is what we use to simulate energy loss within our renders. When we have higher damping values, the cloth stops swaying faster as the energy loss for each timestep is greater. You can think of damping as the rate of turbulence lowering. </span></li><li class="c3 c18 li-bullet-0"><span class="c1">In the pictures below, low damping seemingly allowed the cloth to run forever as little energy was being lost. With high damping values, the cloth stops much faster. When there is 0% damping, the render runs forever as no energy is lost. When the damping is increased to .5%, the cloth moves for a while before resting. Unlike k_s and density, damping is more related to the animation time rather than the final appearance of the cloth.</span></li></ul><p class="c3 c7"><span class="c1"></span></p><a id="t.ae231e205082c2d8754ce5e927aecf203486eeca"></a><a id="t.6"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low damping, 0%</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Intermediate damping, .15%</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 186.67px;"><img alt="" src="images/image23.jpg" style="width: 298.00px; height: 186.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 153.33px;"><img alt="" src="images/image60.jpg" style="width: 298.00px; height: 153.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 197.33px;"><img alt="" src="images/image87.jpg" style="width: 298.00px; height: 197.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.06bf7f7ce243d2f438141d9d21fea6597b389fc4"></a><a id="t.7"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Intermediate damping, .5%</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High damping, 1%</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 196.00px;"><img alt="" src="images/image49.jpg" style="width: 298.00px; height: 196.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 197.33px;"><img alt="" src="images/image37.jpg" style="width: 298.00px; height: 197.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Shaded cloth renders (default parameters)</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.abcac472a8ee1bc90cc4b722a74c51e057cee145"></a><a id="t.8"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">intermediate pinned4.json</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">final pinned4.json</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 154.67px;"><img alt="" src="images/image61.jpg" style="width: 298.00px; height: 154.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 176.00px;"><img alt="" src="images/image73.jpg" style="width: 298.00px; height: 176.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 165.33px;"><img alt="" src="images/image95.jpg" style="width: 298.00px; height: 165.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h1 class="c16" id="h.jclkbkxp8hp"><span class="c14">Part 3: Handling collisions with other objects</span></h1><p class="c3"><span class="c1">Next we implemented collisions with sphere and plane, which we did by calling our collide methods on the present collision objects in the scene. &nbsp;This helps make our simulation much more useful and realistic. </span></p><h2 class="c9" id="h.pa8gg3n0csso"><span class="c19">Sphere Collision</span></h2><p class="c3"><span class="c1">First we computed the tangent_point, which we did by finding the direction vector from the point mass to the origin, and using the radius to find the point which contacts the surface of the sphere. Next we found the correction vector from the last_position to tangent_point, and adjusted the position by this * (1 - friction).</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Below are the results after playing the simulation on scene/sphere.json with different spring constants. As you can see, a higher ks value increases the stiffness of the cloth. </span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.200e8f0d6e0dd37ff0ac26e24fca687d75679901"></a><a id="t.9"></a><table class="c0"><tbody><tr class="c2"><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c1">ks=500</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c1">ks=5000</span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c12"><span class="c1">ks=50000</span></p></td></tr><tr class="c2"><td class="c20" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 194.00px; height: 200.00px;"><img alt="" src="images/image55.png" style="width: 194.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 194.00px; height: 184.00px;"><img alt="" src="images/image80.png" style="width: 194.00px; height: 184.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c20" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 196.50px; height: 176.43px;"><img alt="" src="images/image12.png" style="width: 204.95px; height: 176.43px; margin-left: -8.45px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">There are a lot of wrinkles when ks + 500 and the top half of the sphere just looks like the sphere. As ks is increased, there are less folds and wrinkles and does not bend as much.</span></p><h2 class="c9" id="h.k4virjywdpt2"><span class="c19">Plane Collision</span></h2><p class="c3"><span class="c1">We use the ray-plane equation in order to calculate the tangent point. After finding the point, we need to compare the distance of the point between the PointMass&rsquo;s last position with the distance between the current and last position. Our goal is to see if the timestep led to a point crossing our plane. We can determine if the point will pass through the plane &nbsp;if the distance between the PointMass current position is greater than the last position and the tangent plane. We determined this if the dot product of the vector from point to the mass&rsquo;s position with the plane&rsquo;s normal was not the same sign of the dot product between the vector of the mass&rsquo;s previous position and p with the plane&rsquo;s normal. If so, &nbsp;we will calculate the correction vector which moves the PointMass to a small surface offset above the plane. To do so, we calculate the projection and subtract it from the mass&rsquo;s position for the collision point and then bump it up using the correction vector.</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.b03e5da8bf3264aa13093e6de500eaf2231919cf"></a><a id="t.10"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Falling Cloth</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Peaceful Cloth</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><h2 class="c9" id="h.f2es6my4a43s"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 182.67px;"><img alt="" src="images/image45.jpg" style="width: 298.00px; height: 182.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2></td><td class="c4" colspan="1" rowspan="1"><h2 class="c9" id="h.jhzpfl2d150l"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 275.50px; height: 199.45px;"><img alt="" src="images/image65.png" style="width: 275.50px; height: 199.45px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 234.67px;"><img alt="" src="images/image53.jpg" style="width: 298.00px; height: 234.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h2></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h1 class="c16" id="h.oragva84euve"><span class="c14">Part 4: Handling self-collisions</span></h1><p class="c3"><span class="c1">Next we implemented self-collisions, which allowed for the cloth to realistically fall on itself (rather than through itself). First we implemented hash_position to create a hashing sequence, by flooring pos.x / w, pos.y / h, and pos.z / t, and mapped the hash to the position in build_spatial_map. &nbsp;In self_collide we then find the positions that are closest to the given point mass using our hash map, and check that the pair is at least 2 * thickness in distance. Otherwise we apply a correction vector to it. &nbsp; </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span>In this portion we discovered that our vertical &nbsp;orientation of building the cloth grid was buggy, so we had to revisit that part and correct our z coordinates. </span></p><a id="t.519403cb1c4c19df137b59dca400fc52230a8579"></a><a id="t.11"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Early</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Initial Self-Collision</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 330.67px;"><img alt="" src="images/image79.jpg" style="width: 298.00px; height: 330.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 332.00px;"><img alt="" src="images/image68.jpg" style="width: 298.00px; height: 332.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 273.33px;"><img alt="" src="images/image84.jpg" style="width: 298.00px; height: 273.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.264cb3b102d6ba55768db9127f4c8d6bb0bd8245"></a><a id="t.12"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Intermediate Self-Collision</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Resting Self-Collision</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6 c7"><span class="c1"></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 202.67px;"><img alt="" src="images/image17.jpg" style="width: 298.00px; height: 202.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 218.67px;"><img alt="" src="images/image54.jpg" style="width: 298.00px; height: 218.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 200.00px;"><img alt="" src="images/image77.jpg" style="width: 298.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 262.67px;"><img alt="" src="images/image82.jpg" style="width: 298.00px; height: 262.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c8">Experiments</span></p><p class="c3 c7"><span class="c8"></span></p><p class="c3"><span class="c1">Effects of k_s</span></p><ul class="c5 lst-kix_v82os2wepgiv-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">Low k_s: the cloth is really wrinkled because the spring constant means the springs are very elastic. The simulation took a while for the cloth to rest due to bouncing</span></li><li class="c3 c18 li-bullet-0"><span class="c1">High k_s: only large folds, no wrinkles, stiff cloth, individual spring PointMasses did not go through large changes in positions, thus collisions are isolated to larger areas only</span></li><li class="c3 c18 li-bullet-0"><span>As explained, the spring constant controls the stretchiness of the cloth. As the spring constant increases, the cloth has fewer ripples as it falls onto itself. The stronger spring forces keep the cloth in shape more resulting in smoother folds.</span></li></ul><a id="t.a1f4316cd69de9ce4bf50b1d0caef7afea7f27db"></a><a id="t.13"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low k_s, 100 N/m</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low k_s, 100 N/m</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 273.33px;"><img alt="" src="images/image24.jpg" style="width: 298.00px; height: 273.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 213.33px;"><img alt="" src="images/image14.jpg" style="width: 298.00px; height: 213.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 270.67px;"><img alt="" src="images/image31.jpg" style="width: 298.00px; height: 270.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 186.67px;"><img alt="" src="images/image52.jpg" style="width: 298.00px; height: 186.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.ce94f15dd0c4319231d113fa3f396825dd11ade4"></a><a id="t.14"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High k_s, 10000 N/m</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High k_s, 10000 N/m</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 374.67px;"><img alt="" src="images/image10.jpg" style="width: 298.00px; height: 374.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 337.33px;"><img alt="" src="images/image19.jpg" style="width: 298.00px; height: 337.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 288.00px;"><img alt="" src="images/image25.jpg" style="width: 298.00px; height: 288.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 361.33px;"><img alt="" src="images/image85.jpg" style="width: 298.00px; height: 361.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 257.33px;"><img alt="" src="images/image44.jpg" style="width: 298.00px; height: 257.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Effects of density</span></p><ul class="c5 lst-kix_v82os2wepgiv-0"><li class="c3 c18 li-bullet-0"><span class="c1">Low Density: the cloth is smooth with large folds, no small wrinkles, quick simulation, like paper</span></li><li class="c3 c18 li-bullet-0"><span class="c1">High Density: the cloth has many wrinkles and folds vary in large and small sizes, long simulation, clipping like silk</span></li><li class="c3 c18 li-bullet-0"><span class="c1">With a smaller density, the cloth tends to spread out as it falls on the surface of the plane, when the density is larger, the folds are more compressed.</span></li></ul><a id="t.f6d9dbc667c1d2850ff9f85dd3895fe6f7d2a928"></a><a id="t.15"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low density, 1 g/cm^2</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Low density, 1 g/cm^2</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 438.67px;"><img alt="" src="images/image91.jpg" style="width: 298.00px; height: 438.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 366.67px;"><img alt="" src="images/image22.jpg" style="width: 298.00px; height: 366.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 162.67px;"><img alt="" src="images/image92.jpg" style="width: 298.00px; height: 162.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 376.00px;"><img alt="" src="images/image103.jpg" style="width: 298.00px; height: 376.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.4f58a1811d769838dcaf9990679d962cbd37fa9a"></a><a id="t.16"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High density, 100 g/cm^2</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">High density, 100 g/cm^2</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 357.33px;"><img alt="" src="images/image86.jpg" style="width: 298.00px; height: 357.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 193.33px;"><img alt="" src="images/image39.jpg" style="width: 298.00px; height: 193.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 193.33px;"><img alt="" src="images/image35.jpg" style="width: 298.00px; height: 193.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 342.67px;"><img alt="" src="images/image27.jpg" style="width: 298.00px; height: 342.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">After the above experiments, it seems like density is similar to an inverse of k_s. As decreasing density lessens the effects of gravity, so the cloth falls smoother and decreasing k_s weakens the springy movement of the cloth so it crumples more.</span></p><h1 class="c16" id="h.xhh07n8tl072"><span class="c14">Part 5: Shaders</span></h1><p class="c3"><span class="c1">In this section of the project, we implement shaders using GLSL. Shaders help make our simulations more realistic by giving some sort of texture or other colors. The shaders run in parallel on the GPU and output vec4 type variables. Shaders help quicken the rendering of lighting/material effects that would be difficult on just the CPU.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">We provide these texture files and colors and produce a 4D vector that stores information about the vertex (color, displacement, etc). There are vertex and fragment shaders that we use in OpenGL. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Vertex shaders are there to apply transformations to the vertices. The shaders modify geometric properties using vectors and set the final position of the vertex in OpenGL. The vertex values are interpolated by barycentric coordinates in .vert files.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Fragment shaders find the attributes in fragments (after rasterization). &nbsp;The fragment shaders take in geometry found from the vertex shader and computes the color written into out_color. We can create unique lighting and texture effects from these two shaders. They are in a .frag file format.</span></p><h2 class="c9" id="h.xmutlt5s87p1"><span class="c19">Diffuse Shading</span></h2><p class="c3"><span class="c1">We first prepare ourselves by building a diffuse shader. The calculations done here build on top of itself for the Blinn-Phong shader. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">The equation we utilize in the following:</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 244.00px; height: 40.00px;"><img alt="" src="images/image16.jpg" style="width: 244.00px; height: 40.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.fe819404afe3cd3c3ed74ca499032253a0253ec5"></a><a id="t.17"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Diffuse Shader</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Diffuse Shader</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 177.33px;"><img alt="" src="images/image101.jpg" style="width: 298.00px; height: 177.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 328.00px;"><img alt="" src="images/image48.jpg" style="width: 298.00px; height: 328.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h2 class="c9" id="h.o9x2byw08xxz"><span class="c19">Blinn-Phong Shading</span></h2><p class="c3"><span class="c1">This is the default shading model used by OpenGL. </span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 285.50px; height: 208.26px;"><img alt="" src="images/image20.jpg" style="width: 285.50px; height: 208.26px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">For Blinn-Phong Shading we need to utilize the following equation:</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 50.67px;"><img alt="" src="images/image67.png" style="width: 624.00px; height: 50.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">We account for ambient lighting, diffuse, and specular in Blinn-Phong shading for a realistic and dynamic lighting scene. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">This is the default vertex shader which takes into account the attributes, in_position, in_normal, u_model, u_view_projection, which are the matrices used to transform the point from the model space to world space. In the equation above, r is the distance from the vertex to light scour and l is the vector from the vertex to the light source. N is the normal and h is the halfway vector between the viewer and light-source vectors. The intensity of the light source is I.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">The calculation was pretty tedious and took some debugging in order to figure out how everything falls into place. The components became intuitive as we tried. The equation is a sum of ambient light, diffuse light, and specular reflection.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c8">Parameters</span></p><ul class="c5 lst-kix_61ehidr0zfp5-0 start"><li class="c3 c18 li-bullet-0"><span class="c1">Ambient: k_a = 0.5, k_d = 0, k_s = 0, I_a = 1 (u_color), p = 0</span></li><li class="c3 c18 li-bullet-0"><span class="c1">Diffuse: k_a = 0, k_d = 1, k_s = 0, I_a = 0, p = 0</span></li><li class="c3 c18 li-bullet-0"><span class="c1">Specular: k_a = 0, k_d = 0, k_s = 0.5, I_a = 0, p = 100</span></li><li class="c3 c18 li-bullet-0"><span class="c1">Full: k_a = 0.1, k_d = 1, k_s = 0.5, I_a = 0.1, p = 100</span></li></ul><p class="c3 c7"><span class="c1"></span></p><a id="t.41df9bed2824e5d41b0871464c7a7aef6eab88af"></a><a id="t.18"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Only Ambient</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Only Diffuse</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 193.33px;"><img alt="" src="images/image5.jpg" style="width: 298.00px; height: 193.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 300.00px;"><img alt="" src="images/image78.jpg" style="width: 298.00px; height: 300.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 200.00px;"><img alt="" src="images/image98.jpg" style="width: 298.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 300.00px;"><img alt="" src="images/image6.jpg" style="width: 298.00px; height: 300.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.bb80e1bd9ca96971d88ac458568e4bf3c6d9959b"></a><a id="t.19"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Only Specular</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Full Blinn-Phong model</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 196.00px;"><img alt="" src="images/image99.jpg" style="width: 298.00px; height: 196.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 313.33px;"><img alt="" src="images/image7.jpg" style="width: 298.00px; height: 313.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 172.00px;"><img alt="" src="images/image57.jpg" style="width: 298.00px; height: 172.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 329.33px;"><img alt="" src="images/image90.jpg" style="width: 298.00px; height: 329.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h2 class="c9" id="h.exzlzwrp7e72"><span class="c19">Texture Mapping</span></h2><p class="c3"><span class="c8">Show a screenshot of your texture mapping shader using your own custom texture by modifying the textures in /textures/.</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">For texture mapping, we simply sample the texture from GLSL&rsquo;s function, texture(). We are provided a v_uv coordinate for the fragment shader.</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.fd3fafff941dc066eaab6d2d90f5deaaeb24acb4"></a><a id="t.20"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Default Texture</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Default Texture</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 170.67px;"><img alt="" src="images/image42.jpg" style="width: 298.00px; height: 170.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 333.33px;"><img alt="" src="images/image51.jpg" style="width: 298.00px; height: 333.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.31633d3242a3cdaaabe41e51aedcc87c998d5461"></a><a id="t.21"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Custom Texture</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Custom Texture</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 413.33px;"><img alt="" src="images/image18.jpg" style="width: 298.00px; height: 413.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 184.00px;"><img alt="" src="images/image4.jpg" style="width: 298.00px; height: 184.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 325.33px;"><img alt="" src="images/image47.jpg" style="width: 298.00px; height: 325.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h2 class="c9" id="h.ezctfcommp54"><span class="c19">Displacement and Bump mapping</span></h2><p class="c3"><span class="c1">In this section we explore how we can use texture to create some height map rather than color. We modify the normal vectors of the object so the fragment shader can produce bumps on an object. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">For bump maps, we modify the fragment shader to shade the surface using surface normals. This is specified by the bump map texture. We build from what we did in the Blinn-Phong shader (same code, but need to calculate new normals).</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">We have access to the model-space normal, n and tangent, t. We can calculate the bitangent, b = cross(n, t). Then we have the matrix TBN = [t b n]. Next, we need to compute the space normals by seeing how the height changes given the formulas below and scaling factors.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 349.00px; height: 90.00px;"><img alt="" src="images/image9.jpg" style="width: 349.00px; height: 90.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c3"><span class="c1">We can find the local space normal with n_o = (-dU, -dV, 1) and get the mode space normal n_d = cross(TBN, n_o).</span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">For displacement maps, we also need to modify the vertex shader (while using the same bump fragment shader). This changes the silhouette of the shapes. We displace the vertex position in the direction of the original model space vertex normal. We use the following equation for the new position.</span></p><p class="c3"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 215.00px; height: 43.00px;"><img alt="" src="images/image8.jpg" style="width: 215.00px; height: 43.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><a id="t.45bcab7192e66cd97069823a901fa654645d14af"></a><a id="t.22"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span>Default </span><span class="c10">Bump </span><span class="c1">Mapping (n = 2, h = 1)</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span>Default </span><span class="c10">Displacement </span><span class="c1">Mapping (n = 100, h = .02)</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 170.67px;"><img alt="" src="images/image75.jpg" style="width: 298.00px; height: 170.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 341.33px;"><img alt="" src="images/image63.jpg" style="width: 298.00px; height: 341.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 172.00px;"><img alt="" src="images/image56.jpg" style="width: 298.00px; height: 172.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 328.00px;"><img alt="" src="images/image66.jpg" style="width: 298.00px; height: 328.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.918eba7f9ecfdf5aeccc1904b908c4ec917fda23"></a><a id="t.23"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Custom Texture</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 195.50px; height: 195.50px;"><img alt="" src="images/image58.jpg" style="width: 195.50px; height: 195.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.778ea322fec878abf36f4e9c06bdcf6fda6a6939"></a><a id="t.24"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span>Custom </span><span class="c10">Bump </span><span class="c1">Mapping (n = 2, h = 1)</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span>Custom </span><span class="c10">Displacement </span><span class="c1">Mapping (n = 100, h = .02)</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 182.67px;"><img alt="" src="images/image102.jpg" style="width: 298.00px; height: 182.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 242.50px; height: 287.73px;"><img alt="" src="images/image1.jpg" style="width: 242.50px; height: 287.73px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 176.00px;"><img alt="" src="images/image62.jpg" style="width: 298.00px; height: 176.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 274.67px;"><img alt="" src="images/image34.jpg" style="width: 298.00px; height: 274.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Overall. Bump mapping results in a visual change of texture on the cloth surface. Displacement mapping is just an extension that does change the cloth mesh geometry. </span></p><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">Changing coarseness</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.d6868127ebb45bf0c3f838b2b6733f70f63be6aa"></a><a id="t.25"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c10">Bump </span><span>Mapping (n = 2, h = 1, o = </span><span class="c10">16</span><span>, a &nbsp;= </span><span class="c10">16</span><span class="c1">)</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c10">Bump </span><span>Mapping (n = 2, h = 1, o = </span><span class="c10">128</span><span>, a = </span><span class="c10">128</span><span class="c1">)</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 185.33px;"><img alt="" src="images/image69.jpg" style="width: 298.00px; height: 185.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 292.00px;"><img alt="" src="images/image3.jpg" style="width: 298.00px; height: 292.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 316.00px;"><img alt="" src="images/image88.jpg" style="width: 298.00px; height: 316.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 185.33px;"><img alt="" src="images/image70.jpg" style="width: 298.00px; height: 185.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 317.33px;"><img alt="" src="images/image71.jpg" style="width: 298.00px; height: 317.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 316.00px;"><img alt="" src="images/image28.jpg" style="width: 298.00px; height: 316.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><a id="t.4b4ca1cd710fd3d82a25e5698cd6896f62551bdc"></a><a id="t.26"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c10">Displacement </span><span>Mapping (n = 100, h = .02, o = </span><span class="c10">16</span><span>, a &nbsp;= </span><span class="c10">16</span><span class="c1">)</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c10">Displacement </span><span>Mapping (n = 100, h = .02, o = </span><span class="c10">128</span><span>, a = </span><span class="c10">128</span><span class="c1">)</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 186.67px;"><img alt="" src="images/image26.jpg" style="width: 298.00px; height: 186.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 294.67px;"><img alt="" src="images/image72.jpg" style="width: 298.00px; height: 294.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 301.33px;"><img alt="" src="images/image64.jpg" style="width: 298.00px; height: 301.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 188.00px;"><img alt="" src="images/image32.jpg" style="width: 298.00px; height: 188.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 288.00px;"><img alt="" src="images/image96.jpg" style="width: 298.00px; height: 288.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 349.33px;"><img alt="" src="images/image11.jpg" style="width: 298.00px; height: 349.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><p class="c3"><span class="c1">When we have low coarseness, there is no difference between the bump and displacement maps. The spheres are blockier and have more polygon shapes. Displacement mapping is ineffective as the roughness is dominated by sharp edges. At high coarseness, the normal map is more accurate and displaced vertices are placed correctly with shaper edges. There are more vertices to be displaced when there is higher coarseness.</span></p><h2 class="c9" id="h.84pwin5gpugr"><span class="c19">Environment-mapped Reflections</span></h2><p class="c3"><span class="c1">We also implemented a mirror shader sampled from incoming radiances with an environment map. For implementation, we reflect the eye vector over the normal of the surface (compute outgoing eye ray w_0 and reflect it across the surface to get w_i). We are given a cubemap texture.</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.ec6d95c7a92835cb689ab595914e845100aa341d"></a><a id="t.27"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Mirror Shader Before Run</span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Mirror Shader After Run</span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 170.67px;"><img alt="" src="images/image13.jpg" style="width: 298.00px; height: 170.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 329.33px;"><img alt="" src="images/image50.jpg" style="width: 298.00px; height: 329.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p><h2 class="c9" id="h.7t0jin3c4m7b"><span class="c19">Custom Shader</span></h2><p class="c3"><span class="c1">For our custom shader, we combined displacement map (.vert) &nbsp;and texture map (.frag).</span></p><p class="c3 c7"><span class="c1"></span></p><a id="t.f49d698a98c3044dec17d723dfa352f7270831d9"></a><a id="t.28"></a><table class="c0"><tbody><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Custom </span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span class="c1">Custom </span></p></td></tr><tr class="c2"><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 193.33px;"><img alt="" src="images/image41.jpg" style="width: 298.00px; height: 193.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 310.67px;"><img alt="" src="images/image33.jpg" style="width: 298.00px; height: 310.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c4" colspan="1" rowspan="1"><p class="c6"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 185.33px;"><img alt="" src="images/image30.jpg" style="width: 298.00px; height: 185.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 298.00px; height: 284.00px;"><img alt="" src="images/image97.jpg" style="width: 298.00px; height: 284.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr></tbody></table><p class="c3 c7"><span class="c1"></span></p></body></html>